///
/// 2916. Subarrays Distinct Element Sum of Squares II
/// https://leetcode.com/problems/subarrays-distinct-element-sum-of-squares-ii/description/
///
/// You are given a 0-indexed integer array nums.
/// The distinct count of a subarray of nums is defined as:
///   Let nums[i..j] be a subarray of nums consisting of all the indices from i to j such that 0 <= i <= j < nums.length. Then the number of distinct values in nums[i..j] is called the distinct count of nums[i..j].
///   Return the sum of the squares of distinct counts of all subarrays of nums.
///
/// Since the answer may be very large, return it modulo 109 + 7.
///
/// A subarray is a contiguous non-empty sequence of elements within an array.

///
/// # find_number_of_subarrays
///
/// ## Arguments
/// * `nums` - {Vec<i32>} the array of numbers
///
/// ## Returns
/// * {i32} - the sum of the squares of distinct counts of all subarrays of nums, modulo $10^9 + 7$
fn find_number_of_subarrays(nums: Vec<i32>) -> i32 {
    let mut sum = 0i32;
    for i in 0..nums.len() {
        let mut set: std::collections::HashSet<i32> = std::collections::HashSet::new();
        for j in i..nums.len() {
            set.insert(nums[j]);
            let len = set.len();
            sum += len.pow(2) as i32 % (10i32.pow(9) + 7);
        }
    }
    sum % (10i32.pow(9) + 7)
}

fn find_number_of_subarrays_2(nums: Vec<i32>) -> i32 {
    let mut sum = 0i32;
    let array_len = nums.len();
    for i in 0..nums.len() {}
    sum % (10i32.pow(9) + 7)
}

fn main() {
    println!("{}", 10i32.pow(9) + 7);
}

#[cfg(test)]
mod tests {
    use super::find_number_of_subarrays;

    #[test]
    fn test_find_number_of_subarrays() {
        assert_eq!(find_number_of_subarrays(vec![1, 2, 1]), 15);
        assert_eq!(find_number_of_subarrays(vec![2, 2]), 3);
        assert_eq!(
            find_number_of_subarrays(vec![
                335, 353, 357, 449, 392, 430, 38, 193, 230, 366, 183, 87, 490, 36, 244, 146, 48,
                220, 392, 54, 433, 233, 445, 310, 205, 371, 420, 414, 113, 450, 151, 81, 454, 400,
                155, 469, 136, 154, 489, 213, 281, 266, 37, 468, 397, 193, 240, 142, 227, 180, 450,
                371, 366, 217, 41, 282, 233, 130, 444, 490, 52, 257, 261, 53, 181, 373, 343, 474,
                240, 367, 222, 372, 117, 307, 289, 231, 360, 186, 41, 463, 459, 169, 138, 178, 456,
                321, 168, 349, 393, 247, 124, 197, 394, 364, 204, 254, 388, 264, 307, 417, 487,
                176, 382, 443, 7, 212, 434, 219, 148, 349, 374, 366, 223, 353, 345, 326, 272, 107,
                351, 437, 355, 154, 457, 353, 440, 183, 393, 376, 37, 139, 101, 52, 140, 117, 329,
                239, 488, 378, 321, 421, 352, 417, 293, 287, 272, 418, 238, 301, 425, 460, 224,
                493, 316, 104, 66, 440, 463, 150, 37, 393, 298, 308, 364, 371, 485, 246, 262, 152,
                151, 125, 408, 452, 420, 484, 365, 28, 436, 190, 13, 238, 195, 85, 217, 465, 272,
                450, 229, 274, 58, 462, 192, 292, 148, 157, 82, 289, 359, 192, 217, 93, 174, 416,
                398, 280, 263, 375, 248, 321, 140, 269, 157, 327, 469, 53, 112, 292, 441, 49, 388,
                154, 340, 120, 441, 298, 282, 77, 155, 294, 221, 5, 414, 254, 475, 337, 76, 415,
                27, 381, 421, 499, 325, 121, 59, 153, 417, 76, 11, 13, 320, 298, 380, 356, 301,
                210, 325, 1, 290, 127, 182, 288, 199, 403, 299, 242, 479, 338, 198, 181, 271, 331,
                97, 275, 317, 109, 317, 467, 197, 1, 200, 77, 145, 275, 129, 459, 42, 249, 84, 315,
                248, 353, 439, 201, 422, 6, 279, 77, 241, 184, 400, 66, 404, 380, 435, 174, 495,
                149, 406, 354, 352, 327, 430, 465, 249, 287, 226, 482, 223, 149, 3, 394, 445, 374,
                310, 379, 428, 414, 484, 120, 496, 263, 365, 431, 269, 103, 173, 3, 266, 186, 296,
                430, 31, 197, 76, 414, 142, 351, 140, 479, 198, 479, 445, 169, 371, 452, 304, 426,
                62, 202, 93, 199, 368, 165, 495, 217, 73, 34, 201, 432, 380, 366, 218, 357, 351, 2,
                429, 104, 449, 336, 237, 54, 106, 393, 199, 255, 468, 87, 24, 435, 188, 419, 92,
                76, 386, 272, 327, 210, 255, 112, 54, 254, 131, 373, 72, 389, 430, 340, 57, 457,
                387, 145, 107, 409, 35, 373, 427, 53, 346, 99, 117, 349, 377, 456, 1, 155, 125,
                385, 137, 245, 284, 8, 52, 154, 381, 23, 320, 340, 77, 284, 421, 174, 206, 461,
                437, 338, 409, 22, 391, 342, 478, 458, 372, 378, 88, 128, 317, 87, 329, 487, 363,
                343, 90, 183, 109, 198, 372, 403, 181, 328, 469, 128, 392, 369, 383, 381, 473, 96,
                292, 53, 220, 455, 341, 246, 112, 262, 100, 486, 8, 174, 416, 33, 490, 256, 497,
                213, 87, 367, 93, 296, 216, 142, 58, 500, 31, 150, 400, 444, 114, 150, 194, 328,
                117, 87, 405, 356, 317, 120, 301, 30, 412, 499, 51, 470, 454, 263, 200, 261, 237,
                362, 347, 259, 51, 75, 392, 314, 63, 481, 38, 236, 338, 46, 414, 194, 106, 316, 20,
                379, 121, 391, 202, 185, 106, 148, 141, 414, 34, 334, 327, 38, 37, 484, 81, 360,
                118, 342, 164, 49, 386, 487, 106, 154, 203, 69, 196, 453, 338, 491, 428, 127, 188,
                322, 210, 144, 396, 436, 378, 213, 119, 295, 147, 12, 27, 499, 444, 389, 49, 95,
                303, 497, 484, 417, 325, 341, 456, 361, 165, 259, 132, 170, 429, 94, 345, 484, 419,
                385, 283, 219, 240, 469, 159, 315, 52, 188, 378, 223, 470, 232, 407, 225, 5, 190,
                187, 352, 356, 455, 333, 401, 269, 296, 250, 261, 442, 153, 53, 444, 169, 479, 4,
                267, 288, 265, 478, 235, 146, 28, 4, 414, 266, 113, 430, 17, 224, 175, 431, 250,
                500, 197, 414, 197, 162, 341, 468, 49, 54, 17, 334, 134, 414, 457, 326, 301, 46,
                139, 394, 66, 300, 443, 332, 221, 493, 218, 147, 318, 350, 403, 493, 189, 361, 11,
                170, 437, 387, 396, 250, 388, 110, 166, 93, 315, 300, 281, 252, 47, 410, 336, 316,
                247, 217, 215, 115, 58, 290, 379, 48, 80, 470, 433, 235, 492, 370, 196, 416, 122,
                205, 130, 394, 321, 380, 258, 453, 314, 119, 83, 48, 307, 258, 199, 476, 463, 339,
                456, 198, 443, 162, 89, 273, 217, 331, 29, 491, 125, 500, 432, 256, 456, 406, 106,
                389, 183, 151, 159, 14, 4, 98, 427, 252, 236, 212, 79, 71, 142, 109, 388, 133, 421,
                470, 463, 193, 408, 455, 381, 288, 257, 5, 362, 75, 55, 472, 324, 333, 111, 379,
                263, 224, 166, 191, 260, 335, 75, 434, 308, 44, 455, 438, 484, 378, 241, 179, 21,
                462, 194, 58, 98, 45, 465, 312, 100, 377, 442, 436, 140
            ]),
            454149595
        );
    }
}
